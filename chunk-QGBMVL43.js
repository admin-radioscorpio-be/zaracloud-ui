import{b as w}from"./chunk-UFTR7SYY.js";import{Aa as t,Bc as D,E as v,Eb as _,H as x,Ha as m,Ra as e,Ta as a,Wd as T,ca as l,da as S,ga as E,hd as I,i as p,id as y,la as s,nb as u,oa as d,ob as f,q as h,ub as g,xc as C,yc as b,za as i}from"./chunk-B34ZBDND.js";import"./chunk-Q7L6LLAK.js";var F=(()=>{class r{constructor(n,o){this.http=n,this.router=o,this.apiUrl="https://zaracloud.radioscorpio.be/api/scheduler/status",this.authRedirectUrl="https://zaracloud.radioscorpio.be/api/login"}getSchedulerData(){return this.http.get(this.apiUrl).pipe(h(n=>this.handleError(n)))}handleError(n){return n.status===401&&(console.warn("Unauthorized (401) - Redirecting to login..."),window.location.href=this.authRedirectUrl),p(()=>new Error(n.message))}static{this.\u0275fac=function(o){return new(o||r)(x(g),x(_))}}static{this.\u0275prov=v({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function R(r,c){if(r&1&&(i(0,"div")(1,"h3"),e(2,"Event:"),t(),i(3,"p")(4,"strong"),e(5,"Fichero:"),t(),e(6),t()()),r&2){let n=m().$implicit;l(6),a(" ",n.event.fichero,"")}}function U(r,c){if(r&1&&(i(0,"div")(1,"h3"),e(2,"Task:"),t(),i(3,"p")(4,"strong"),e(5,"Method:"),t(),e(6),t(),i(7,"p")(8,"strong"),e(9,"Args:"),t(),e(10),t()()),r&2){let n=m().$implicit;l(6),a(" ",n.event.target_method,""),l(4),a(" ",n.event.args,"")}}function H(r,c){if(r&1&&(i(0,"div"),s(1,R,7,1,"div",7)(2,U,11,2,"div",7),t()),r&2){let n=c.$implicit,o=m(2);l(),d("ngIf",o.isScheduledEvent(n.event)),l(),d("ngIf",!o.isScheduledEvent(n.event))}}function O(r,c){if(r&1&&(i(0,"div")(1,"h3"),e(2,"--- Event Metadata"),t(),i(3,"p"),e(4),t(),i(5,"p"),e(6),t(),i(7,"h3"),e(8,"--- Events"),t(),s(9,H,3,2,"div",8),t()),r&2){let n=m();l(4),a("Size: ",n.schedulerData.event_meta.size,""),l(2),a("Tag: ",n.schedulerData.event_meta.tag,""),l(3),d("ngForOf",n.events)}}var V=(()=>{class r{constructor(n){this.schedulerService=n,this.events=[]}ngOnInit(){this.schedulerService.getSchedulerData().subscribe({next:n=>{this.schedulerData=n,this.events=n.events,console.log(n)},error:n=>console.error("Error fetching scheduler data",n)})}isScheduledEvent(n){return n.fichero!==void 0}static{this.\u0275fac=function(o){return new(o||r)(S(F))}}static{this.\u0275cmp=E({type:r,selectors:[["scheduler-tables"]],decls:86,vars:1,consts:[["xs","12"],[1,"mb-4"],["href","components/table/scheduler"],["cTable",""],["scope","col"],["scope","row"],["colSpan","2"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(o,j){o&1&&(i(0,"h1"),e(1,"Scheduler"),t(),i(2,"c-row"),e(3,`
  `),i(4,"c-col",0),e(5,`
    `),i(6,"c-card",1),e(7,`
      `),i(8,"c-card-header"),e(9,`
      `),t(),e(10,`
      `),i(11,"c-card-body"),e(12,`
        `),i(13,"app-docs-example",2),e(14,`
          `),i(15,"table",3),e(16,`
            `),i(17,"thead"),e(18,`
            `),i(19,"tr"),e(20,`
              `),i(21,"th",4),e(22,"#"),t(),e(23,`
              `),i(24,"th",4),e(25,"Class"),t(),e(26,`
              `),i(27,"th",4),e(28,"Heading"),t(),e(29,`
              `),i(30,"th",4),e(31,"Heading"),t(),e(32,`
            `),t(),e(33,`
            `),t(),e(34,`
            `),i(35,"tbody"),e(36,`
            `),i(37,"tr"),e(38,`
              `),i(39,"th",5),e(40,"1"),t(),e(41,`
              `),i(42,"td"),e(43,"Mark"),t(),e(44,`
              `),i(45,"td"),e(46,"Otto"),t(),e(47,`
              `),i(48,"td"),e(49,"@mdo"),t(),e(50,`
            `),t(),e(51,`
            `),i(52,"tr"),e(53,`
              `),i(54,"th",5),e(55,"2"),t(),e(56,`
              `),i(57,"td"),e(58,"Jacob"),t(),e(59,`
              `),i(60,"td"),e(61,"Thornton"),t(),e(62,`
              `),i(63,"td"),e(64,"@fat"),t(),e(65,`
            `),t(),e(66,`
            `),i(67,"tr"),e(68,`
              `),i(69,"th",5),e(70,"3"),t(),e(71,`
              `),i(72,"td",6),e(73,"Larry the Bird"),t(),e(74,`
              `),i(75,"td"),e(76,"@twitter"),t(),e(77,`
            `),t(),e(78,`
            `),t(),e(79,`
          `),t(),e(80,`
        `),t(),e(81,`
      `),t(),e(82,`
    `),t(),e(83,`
  `),t(),e(84,`
`),t(),s(85,O,10,3,"div",7)),o&2&&(l(85),d("ngIf",j.schedulerData))},dependencies:[f,u,y,I,C,D,b,w,T],encapsulation:2})}}return r})();export{V as SchedulerComponent};
